<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="title">Finanz-Lexikon</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <style>
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: auto;
        }
        body {
            font-family: 'Poppins', Arial, sans-serif;
            background-color: #101820;
            color: white;
            display: flex;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
        }
        h1 {
            font-size: 36px;
            text-align: center;
            margin: 20px 0 10px;
            color: #a2e5ff;
        }
        .intro-text {
            max-width: 800px;
            margin: 0 auto 20px;
            text-align: center;
            padding: 0 20px;
            line-height: 1.4;
            font-size: 16px;
        }
        .lexicon-search {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 20px;
            position: relative;
        }
        .lexicon-search input {
            width: 100%;
            padding: 12px 40px 12px 20px;
            font-size: 16px;
            border-radius: 25px;
            border: none;
            outline: none;
            background-color: #1B2631;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        .lexicon-search input::placeholder {
            color: #93a1a1;
        }
        .lexicon-search input:focus {
            box-shadow: 0 0 12px rgba(74, 179, 255, 0.7);
        }
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #93a1a1;
            font-size: 20px;
            pointer-events: none;
        }
        .lexicon-list {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 15px 30px 30px;
        }
        .lexicon-item {
            background-color: #1B2631;
            border: 2px solid #34495e;
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            transition: transform 0.3s ease;
        }
        .lexicon-item:hover {
            transform: scale(1.02);
        }
        .lexicon-item h3 {
            font-size: 24px;
            margin: 0 0 10px;
            color: whitesmoke;
        }
        .lexicon-item p {
            font-size: 16px;
            margin: 0;
        }
        .highlight {
            background-color: yellow;
            color: black;
            border-radius: 3px;
        }
        @media (max-width: 768px) {
            h1 {
                font-size: 28px;
            }
            .lexicon-search input {
                font-size: 14px;
                padding: 10px 35px 10px 15px;
            }
            .search-icon {
                font-size: 18px;
            }
            .lexicon-item h3 {
                font-size: 20px;
            }
            .lexicon-item p {
                font-size: 14px;
            }
        }
        @media (max-width: 480px) {
            h1 {
                font-size: 24px;
            }
            .intro-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h1 data-translate-key="lexicon_title">Finanz-Lexikon</h1>
    <p class="intro-text" data-translate-key="intro_text">Hier findest du ein umfangreiches Lexikon mit wichtigen Fachbegriffen aus der Finanzwelt.</p>
    <div class="lexicon-search">
        <input type="text" id="searchInput" data-translate-key="search_placeholder" placeholder="Such nach einem Begriff (z.B. 'Aktie', 'Anleihe', 'IPO') ..." aria-label="Suche im Finanz-Lexikon">
        <i class="fas fa-search search-icon"></i>
    </div>
    <div class="lexicon-list" id="lexiconList"></div>

    <script>
        const lexiconData = [
            {"term": "Aktie", "definition": "Wertpapier, das Anteil am Eigenkapital eines Unternehmens repräsentiert."},
            {"term": "Anleihe", "definition": "Festverzinsliches Wertpapier, Emittent zahlt Zinsen an Anleger."},
            {"term": "ETF", "definition": "Börsengehandelter Fonds, der einen Index nachbildet."},
            {"term": "Dividende", "definition": "Ausschüttung von Unternehmensgewinnen an Aktionäre."},
            {"term": "Portfolio", "definition": "Sammlung von Anlagen wie Aktien, Anleihen, Fonds."},
            {"term": "Rendite", "definition": "Gewinn oder Verlust einer Anlage in Prozent."},
            {"term": "Börse", "definition": "Marktplatz für den Handel mit Wertpapieren."},
            {"term": "Index", "definition": "Maßstab für Wertentwicklung einer Wertpapiergruppe."},
            {"term": "Zinsen", "definition": "Kosten für geliehenes Geld oder Anlageerträge."},
            {"term": "Risiko", "definition": "Unsicherheit über zukünftige Anlagewertentwicklung."},
            {"term": "Liquidität", "definition": "Leichtigkeit, Vermögenswert in Bargeld umzuwandeln."},
            {"term": "Fonds", "definition": "Investmentvehikel, das Anlegergelder bündelt."},
            {"term": "Derivat", "definition": "Finanzinstrument, Wert abhängig von zugrunde liegendem Vermögenswert."},
            {"term": "Hebel", "definition": "Fremdkapitalnutzung zur Erhöhung potenzieller Rendite."},
            {"term": "Broker", "definition": "Vermittler für Kauf und Verkauf von Wertpapieren."},
            {"term": "Depot", "definition": "Konto zur Verwaltung von Anleger-Wertpapieren."},
            {"term": "Kurs", "definition": "Aktueller Marktpreis eines Wertpapiers."},
            {"term": "Volatilität", "definition": "Ausmaß der Preisschwankungen eines Wertpapiers."},
            {"term": "Marktkapitalisierung", "definition": "Gesamtwert der ausstehenden Aktien eines Unternehmens."},
            {"term": "Bullenmarkt", "definition": "Markt mit steigenden Kursen."},
            {"term": "Bärenmarkt", "definition": "Markt mit fallenden Kursen."},
            {"term": "Diversifikation", "definition": "Verteilung von Anlagen zur Risikominimierung."},
            {"term": "Option", "definition": "Vertrag, der Recht zum Kauf oder Verkauf eines Vermögenswerts gibt."},
            {"term": "Future", "definition": "Vertrag zur Lieferung eines Vermögenswerts zu einem zukünftigen Zeitpunkt."},
            {"term": "Wirtschaftswachstum", "definition": "Zunahme der Produktion von Waren und Dienstleistungen in einer Volkswirtschaft."},
            {"term": "Inflation", "definition": "Rate, mit der allgemeine Preise für Waren und Dienstleistungen steigen."},
            {"term": "Deflation", "definition": "Abnahme der allgemeinen Preisniveaus in einer Volkswirtschaft."},
            {"term": "Zentralbank", "definition": "Institution, die die Geldpolitik eines Landes steuert."},
            {"term": "Leitzins", "definition": "Zinssatz, den die Zentralbank für Kredite an Geschäftsbanken festlegt."},
            {"term": "Währung", "definition": "Offizielles Zahlungsmittel eines Landes."},
            {"term": "Wechselkurs", "definition": "Kurs, zu dem eine Währung gegen eine andere getauscht wird."},
            {"term": "Bilanz", "definition": "Übersicht über Vermögenswerte, Verbindlichkeiten und Eigenkapital eines Unternehmens."},
            {"term": "Gewinn", "definition": "Überschuss der Einnahmen über die Ausgaben eines Unternehmens."},
            {"term": "Verlust", "definition": "Ausgaben übersteigen die Einnahmen eines Unternehmens."},
            {"term": "Eigenkapital", "definition": "Wert der Vermögenswerte eines Unternehmens abzüglich seiner Verbindlichkeiten."},
            {"term": "Fremdkapital", "definition": "Verbindlichkeiten eines Unternehmens gegenüber Gläubigern."},
            {"term": "Cashflow", "definition": "Nettozufluss oder -abfluss von Bargeld in einem Unternehmen."},
            {"term": "Dividendenrendite", "definition": "Verhältnis der jährlichen Dividende einer Aktie zu ihrem Kurs."},
            {"term": "Kurs-Gewinn-Verhältnis", "definition": "Verhältnis des Aktienkurses zum Gewinn pro Aktie."},
            {"term": "Fundamentalanalyse", "definition": "Bewertung eines Unternehmens anhand seiner finanziellen Kennzahlen."},
            {"term": "Anlageklasse", "definition": "Gruppe von Wertpapieren mit ähnlichen Merkmalen, wie Aktien oder Anleihen."},
            {"term": "Arbitrage", "definition": "Nutzung von Preisunterschieden auf verschiedenen Märkten für Gewinne."},
            {"term": "Ask", "definition": "Preis, zu dem ein Verkäufer ein Wertpapier anbietet."},
            {"term": "Bid", "definition": "Preis, zu dem ein Käufer ein Wertpapier kaufen möchte."},
            {"term": "Blue Chip", "definition": "Aktien von großen, stabilen und finanziell gesunden Unternehmen."},
            {"term": "Börsenmakler", "definition": "Person oder Firma, die Wertpapiergeschäfte für Kunden ausführt."},
            {"term": "Kapitalflussrechnung", "definition": "Bericht über den Geldfluss eines Unternehmens aus verschiedenen Aktivitäten."},
            {"term": "Dividendenpolitik", "definition": "Strategie eines Unternehmens zur Ausschüttung von Dividenden."},
            {"term": "IPO", "definition": "Erstmalige öffentliche Platzierung von Aktien eines Unternehmens."},
            {"term": "Liquiditätsgrad", "definition": "Maß für die Fähigkeit eines Unternehmens, kurzfristige Verbindlichkeiten zu begleichen."},
            {"term": "Margin", "definition": "Geliehene Mittel für Investitionen, die zu höheren Renditen oder Verlusten führen können."},
            {"term": "Short Selling", "definition": "Verkauf von geliehenen Wertpapieren in der Erwartung fallender Kurse."},
            {"term": "Technical Analysis", "definition": "Bewertung von Wertpapieren durch Analyse von Marktpreisen und -mustern."}
        ].map(item => ({
            term: item.term,
            definition: item.definition.split(' ').slice(0, 20).join(' ') + (item.definition.split(' ').length > 20 ? '...' : '')
        }));

        const translations = {
            "de": {
                "title": "Finanz-Lexikon",
                "intro_text": "Hier findest du ein umfangreiches Lexikon mit wichtigen Fachbegriffen aus der Finanzwelt.",
                "lexicon_title": "Finanz-Lexikon",
                "search_placeholder": "Such nach einem Begriff (z.B. 'Aktie', 'Anleihe', 'IPO') ...",
                "no_results": "Keine Ergebnisse gefunden für",
                "lexicon": {
                    "Aktie": "Aktie: Wertpapier, das Anteil am Eigenkapital eines Unternehmens repräsentiert.",
                    "Anleihe": "Anleihe: Festverzinsliches Wertpapier, Emittent zahlt Zinsen an Anleger.",
                    "ETF": "ETF: Börsengehandelter Fonds, der einen Index nachbildet.",
                    "Dividende": "Dividende: Ausschüttung von Unternehmensgewinnen an Aktionäre.",
                    "Portfolio": "Portfolio: Sammlung von Anlagen wie Aktien, Anleihen, Fonds.",
                    "Rendite": "Rendite: Gewinn oder Verlust einer Anlage in Prozent.",
                    "Börse": "Börse: Marktplatz für den Handel mit Wertpapieren.",
                    "Index": "Index: Maßstab für Wertentwicklung einer Wertpapiergruppe.",
                    "Zinsen": "Zinsen: Kosten für geliehenes Geld oder Anlageerträge.",
                    "Risiko": "Risiko: Unsicherheit über zukünftige Anlagewertentwicklung.",
                    "Liquidität": "Liquidität: Leichtigkeit, Vermögenswert in Bargeld umzuwandeln.",
                    "Fonds": "Fonds: Investmentvehikel, das Anlegergelder bündelt.",
                    "Derivat": "Derivat: Finanzinstrument, Wert abhängig von zugrunde liegendem Vermögenswert.",
                    "Hebel": "Hebel: Fremdkapitalnutzung zur Erhöhung potenzieller Rendite.",
                    "Broker": "Broker: Vermittler für Kauf und Verkauf von Wertpapieren.",
                    "Depot": "Depot: Konto zur Verwaltung von Anleger-Wertpapieren.",
                    "Kurs": "Kurs: Aktueller Marktpreis eines Wertpapiers.",
                    "Volatilität": "Volatilität: Ausmaß der Preisschwankungen eines Wertpapiers.",
                    "Marktkapitalisierung": "Marktkapitalisierung: Gesamtwert der ausstehenden Aktien eines Unternehmens.",
                    "Bullenmarkt": "Bullenmarkt: Markt mit steigenden Kursen.",
                    "Bärenmarkt": "Bärenmarkt: Markt mit fallenden Kursen.",
                    "Diversifikation": "Diversifikation: Verteilung von Anlagen zur Risikominimierung.",
                    "Option": "Option: Vertrag, der Recht zum Kauf oder Verkauf eines Vermögenswerts gibt.",
                    "Future": "Future: Vertrag zur Lieferung eines Vermögenswerts zu einem zukünftigen Zeitpunkt.",
                    "Wirtschaftswachstum": "Wirtschaftswachstum: Zunahme der Produktion von Waren und Dienstleistungen in einer Volkswirtschaft.",
                    "Inflation": "Inflation: Rate, mit der allgemeine Preise für Waren und Dienstleistungen steigen.",
                    "Deflation": "Deflation: Abnahme der allgemeinen Preisniveaus in einer Volkswirtschaft.",
                    "Zentralbank": "Zentralbank: Institution, die die Geldpolitik eines Landes steuert.",
                    "Leitzins": "Leitzins: Zinssatz, den die Zentralbank für Kredite an Geschäftsbanken festlegt.",
                    "Währung": "Währung: Offizielles Zahlungsmittel eines Landes.",
                    "Wechselkurs": "Wechselkurs: Kurs, zu dem eine Währung gegen eine andere getauscht wird.",
                    "Bilanz": "Bilanz: Übersicht über Vermögenswerte, Verbindlichkeiten und Eigenkapital eines Unternehmens.",
                    "Gewinn": "Gewinn: Überschuss der Einnahmen über die Ausgaben eines Unternehmens.",
                    "Verlust": "Verlust: Ausgaben übersteigen die Einnahmen eines Unternehmens.",
                    "Eigenkapital": "Eigenkapital: Wert der Vermögenswerte eines Unternehmens abzüglich seiner Verbindlichkeiten.",
                    "Fremdkapital": "Fremdkapital: Verbindlichkeiten eines Unternehmens gegenüber Gläubigern.",
                    "Cashflow": "Cashflow: Nettozufluss oder -abfluss von Bargeld in einem Unternehmen.",
                    "Dividendenrendite": "Dividendenrendite: Verhältnis der jährlichen Dividende einer Aktie zu ihrem Kurs.",
                    "Kurs-Gewinn-Verhältnis": "Kurs-Gewinn-Verhältnis: Verhältnis des Aktienkurses zum Gewinn pro Aktie.",
                    "Fundamentalanalyse": "Fundamentalanalyse: Bewertung eines Unternehmens anhand seiner finanziellen Kennzahlen.",
                    "Anlageklasse": "Anlageklasse: Gruppe von Wertpapieren mit ähnlichen Merkmalen, wie Aktien oder Anleihen.",
                    "Arbitrage": "Arbitrage: Nutzung von Preisunterschieden auf verschiedenen Märkten für Gewinne.",
                    "Ask": "Ask: Preis, zu dem ein Verkäufer ein Wertpapier anbietet.",
                    "Bid": "Bid: Preis, zu dem ein Käufer ein Wertpapier kaufen möchte.",
                    "Blue Chip": "Blue Chip: Aktien von großen, stabilen und finanziell gesunden Unternehmen.",
                    "Börsenmakler": "Börsenmakler: Person oder Firma, die Wertpapiergeschäfte für Kunden ausführt.",
                    "Kapitalflussrechnung": "Kapitalflussrechnung: Bericht über den Geldfluss eines Unternehmens aus verschiedenen Aktivitäten.",
                    "Dividendenpolitik": "Dividendenpolitik: Strategie eines Unternehmens zur Ausschüttung von Dividenden.",
                    "IPO": "IPO: Erstmalige öffentliche Platzierung von Aktien eines Unternehmens.",
                    "Liquiditätsgrad": "Liquiditätsgrad: Maß für die Fähigkeit eines Unternehmens, kurzfristige Verbindlichkeiten zu begleichen.",
                    "Margin": "Margin: Geliehene Mittel für Investitionen, die zu höheren Renditen oder Verlusten führen können.",
                    "Short Selling": "Short Selling: Verkauf von geliehenen Wertpapieren in der Erwartung fallender Kurse.",
                    "Technical Analysis": "Technische Analyse: Bewertung von Wertpapieren durch Analyse von Marktpreisen und -mustern."
                }
            },
            "en": {
                "title": "Financial Lexicon",
                "intro_text": "Here you will find a comprehensive lexicon with key financial terms.",
                "lexicon_title": "Financial Lexicon",
                "search_placeholder": "Search for a term (e.g., 'Stock', 'Bond', 'IPO') ...",
                "no_results": "No results found for",
                "lexicon": {
                    "Aktie": "Stock: Security representing ownership in a company.",
                    "Anleihe": "Bond: Fixed-income security where the issuer pays interest to investors.",
                    "ETF": "ETF: Exchange-traded fund tracking an index.",
                    "Dividende": "Dividend: Distribution of company profits to shareholders.",
                    "Portfolio": "Portfolio: Collection of investments like stocks, bonds, funds.",
                    "Rendite": "Return: Profit or loss on an investment in percentage.",
                    "Börse": "Stock Exchange: Marketplace for trading securities.",
                    "Index": "Index: Benchmark for the performance of a group of securities.",
                    "Zinsen": "Interest: Cost of borrowed money or investment returns.",
                    "Risiko": "Risk: Uncertainty about future investment performance.",
                    "Liquidität": "Liquidity: Ease of converting an asset to cash.",
                    "Fonds": "Fund: Investment vehicle pooling investor funds.",
                    "Derivat": "Derivative: Financial instrument whose value depends on an underlying asset.",
                    "Hebel": "Leverage: Using borrowed capital to increase potential returns.",
                    "Broker": "Broker: Intermediary for buying and selling securities.",
                    "Depot": "Depot: Account for managing investor securities.",
                    "Kurs": "Price: Current market price of a security.",
                    "Volatilität": "Volatility: Degree of price fluctuations of a security.",
                    "Marktkapitalisierung": "Market Capitalization: Total value of a company's outstanding shares.",
                    "Bullenmarkt": "Bull Market: Market with rising prices.",
                    "Bärenmarkt": "Bear Market: Market with falling prices.",
                    "Diversifikation": "Diversification: Spreading investments to minimize risk.",
                    "Option": "Option: Contract granting the right to buy or sell an asset.",
                    "Future": "Future: Contract to deliver an asset at a future date.",
                    "Wirtschaftswachstum": "Economic Growth: Increase in production of goods and services in an economy.",
                    "Inflation": "Inflation: Rate at which general prices for goods and services rise.",
                    "Deflation": "Deflation: Decrease in general price levels in an economy.",
                    "Zentralbank": "Central Bank: Institution controlling a country's monetary policy.",
                    "Leitzins": "Key Interest Rate: Rate set by the central bank for loans to commercial banks.",
                    "Währung": "Currency: Official medium of exchange of a country.",
                    "Wechselkurs": "Exchange Rate: Rate at which one currency is exchanged for another.",
                    "Bilanz": "Balance Sheet: Overview of a company's assets, liabilities, and equity.",
                    "Gewinn": "Profit: Excess of revenues over expenses of a company.",
                    "Verlust": "Loss: Expenses exceeding revenues of a company.",
                    "Eigenkapital": "Equity: Value of a company's assets minus its liabilities.",
                    "Fremdkapital": "Debt: Liabilities of a company owed to creditors.",
                    "Cashflow": "Cash Flow: Net inflow or outflow of cash in a company.",
                    "Dividendenrendite": "Dividend Yield: Ratio of a stock's annual dividend to its price.",
                    "Kurs-Gewinn-Verhältnis": "Price-Earnings Ratio: Ratio of a stock's price to its earnings per share.",
                    "Fundamentalanalyse": "Fundamental Analysis: Evaluation of a company based on its financial metrics.",
                    "Anlageklasse": "Asset Class: Group of securities with similar characteristics, like stocks or bonds.",
                    "Arbitrage": "Arbitrage: Exploiting price differences across markets for profit.",
                    "Ask": "Ask: Price at which a seller offers a security.",
                    "Bid": "Bid: Price at which a buyer wants to purchase a security.",
                    "Blue Chip": "Blue Chip: Stocks of large, stable, and financially sound companies.",
                    "Börsenmakler": "Stockbroker: Person or firm executing securities transactions for clients.",
                    "Kapitalflussrechnung": "Cash Flow Statement: Report on a company's cash flow from various activities.",
                    "Dividendenpolitik": "Dividend Policy: A company's strategy for distributing dividends.",
                    "IPO": "IPO: Initial public offering of a company's shares.",
                    "Liquiditätsgrad": "Liquidity Ratio: Measure of a company's ability to meet short-term obligations.",
                    "Margin": "Margin: Borrowed funds for investments, which can amplify returns or losses.",
                    "Short Selling": "Short Selling: Selling borrowed securities expecting falling prices.",
                    "Technical Analysis": "Technical Analysis: Evaluation of securities through analysis of market prices and patterns."
                }
            },
            "fr": {
                "title": "Lexique Financier",
                "intro_text": "Vous trouverez ici un lexique complet avec des termes financiers clés.",
                "lexicon_title": "Lexique Financier",
                "search_placeholder": "Rechercher un terme (par ex. 'Action', 'Obligation', 'IPO') ...",
                "no_results": "Aucun résultat trouvé pour",
                "lexicon": {
                    "Aktie": "Action: Titre représentant une part de propriété dans une entreprise.",
                    "Anleihe": "Obligation: Titre à revenu fixe où l'émetteur paie des intérêts aux investisseurs.",
                    "ETF": "ETF: Fonds négocié en bourse suivant un indice.",
                    "Dividende": "Dividende: Distribution des bénéfices d'une entreprise aux actionnaires.",
                    "Portfolio": "Portefeuille: Collection d'investissements comme des actions, obligations, fonds.",
                    "Rendite": "Rendement: Profit ou perte sur un investissement en pourcentage.",
                    "Börse": "Bourse: Marché pour le trading de titres.",
                    "Index": "Indice: Référence pour la performance d'un groupe de titres.",
                    "Zinsen": "Intérêt: Coût de l'argent emprunté ou rendements d'investissement.",
                    "Risiko": "Risque: Incertitude sur la performance future d'un investissement.",
                    "Liquidität": "Liquidité: Facilité de conversion d'un actif en argent liquide.",
                    "Fonds": "Fonds: Véhicule d'investissement regroupant les fonds des investisseurs.",
                    "Derivat": "Dérivé: Instrument financier dont la valeur dépend d'un actif sous-jacent.",
                    "Hebel": "Effet de levier: Utilisation de capitaux empruntés pour augmenter les rendements potentiels.",
                    "Broker": "Courtier: Intermédiaire pour l'achat et la vente de titres.",
                    "Depot": "Compte de dépôt: Compte pour gérer les titres des investisseurs.",
                    "Kurs": "Cours: Prix actuel du marché d'un titre.",
                    "Volatilität": "Volatilité: Degré des fluctuations de prix d'un titre.",
                    "Marktkapitalisierung": "Capitalisation boursière: Valeur totale des actions en circulation d'une entreprise.",
                    "Bullenmarkt": "Marché haussier: Marché avec des prix en hausse.",
                    "Bärenmarkt": "Marché baissier: Marché avec des prix en baisse.",
                    "Diversifikation": "Diversification: Répartition des investissements pour minimiser le risque.",
                    "Option": "Option: Contrat accordant le droit d'acheter ou de vendre un actif.",
                    "Future": "Future: Contrat pour la livraison d'un actif à une date future.",
                    "Wirtschaftswachstum": "Croissance économique: Augmentation de la production de biens et services dans une économie.",
                    "Inflation": "Inflation: Taux auquel les prix généraux des biens et services augmentent.",
                    "Deflation": "Déflation: Baisse des niveaux de prix généraux dans une économie.",
                    "Zentralbank": "Banque centrale: Institution contrôlant la politique monétaire d'un pays.",
                    "Leitzins": "Taux directeur: Taux fixé par la banque centrale pour les prêts aux banques commerciales.",
                    "Währung": "Devise: Moyen de paiement officiel d'un pays.",
                    "Wechselkurs": "Taux de change: Taux auquel une devise est échangée contre une autre.",
                    "Bilanz": "Bilan: Aperçu des actifs, passifs et capitaux propres d'une entreprise.",
                    "Gewinn": "Profit: Excédent des revenus sur les dépenses d'une entreprise.",
                    "Verlust": "Perte: Dépenses dépassant les revenus d'une entreprise.",
                    "Eigenkapital": "Capitaux propres: Valeur des actifs d'une entreprise moins ses passifs.",
                    "Fremdkapital": "Dette: Passifs d'une entreprise envers les créanciers.",
                    "Cashflow": "Flux de trésorerie: Entrée ou sortie nette de liquidités dans une entreprise.",
                    "Dividendenrendite": "Rendement du dividende: Ratio du dividende annuel d'une action à son cours.",
                    "Kurs-Gewinn-Verhältnis": "Ratio cours-bénéfice: Ratio du cours d'une action à son bénéfice par action.",
                    "Fundamentalanalyse": "Analyse fondamentale: Évaluation d'une entreprise basée sur ses métriques financières.",
                    "Anlageklasse": "Classe d'actifs: Groupe de titres avec des caractéristiques similaires, comme des actions ou obligations.",
                    "Arbitrage": "Arbitrage: Exploitation des différences de prix sur différents marchés pour réaliser des profits.",
                    "Ask": "Demande: Prix auquel un vendeur propose un titre.",
                    "Bid": "Offre: Prix auquel un acheteur souhaite acheter un titre.",
                    "Blue Chip": "Blue Chip: Actions de grandes entreprises stables et financièrement saines.",
                    "Börsenmakler": "Courtier en bourse: Personne ou firme exécutant des transactions de titres pour les clients.",
                    "Kapitalflussrechnung": "Tableau des flux de trésorerie: Rapport sur les flux de trésorerie d'une entreprise provenant de diverses activités.",
                    "Dividendenpolitik": "Politique de dividendes: Stratégie d'une entreprise pour la distribution des dividendes.",
                    "IPO": "IPO: Première offre publique d'actions d'une entreprise.",
                    "Liquiditätsgrad": "Ratio de liquidité: Mesure de la capacité d'une entreprise à honorer ses obligations à court terme.",
                    "Margin": "Marge: Fonds empruntés pour des investissements, pouvant amplifier les rendements ou les pertes.",
                    "Short Selling": "Vente à découvert: Vente de titres empruntés en anticipant une baisse des prix.",
                    "Technical Analysis": "Analyse technique: Évaluation des titres par l'analyse des prix et des tendances du marché."
                }
            }
        };

        function escapeHTML(str) {
            return str.replace(/[&<>'"]/g, function(tag) {
                const charsToReplace = {
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    "'": '&#39;',
                    '"': '&quot;'
                };
                return charsToReplace[tag] || tag;
            });
        }

        function highlightMatch(text, query) {
            if (!query) return escapeHTML(text);
            const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
            return escapeHTML(text).replace(regex, '<span class="highlight">$1</span>');
        }

        function displayLexicon(lexiconData, filter = '') {
            const lexiconList = document.getElementById('lexiconList');
            if (!lexiconList) return;
            lexiconList.innerHTML = '';
            const currentLang = document.documentElement.lang || 'de';
            const translatedLexicon = lexiconData.map(item => {
                const translatedEntry = translations[currentLang].lexicon[item.term];
                if (!translatedEntry) return { term: item.term, definition: item.definition };
                const [translatedTerm, translatedDefinition] = translatedEntry.split(': ').map(s => s.trim());
                return { term: translatedTerm, definition: translatedDefinition || item.definition };
            });
            const filteredData = filter
                ? translatedLexicon.filter(item =>
                    item.term.toUpperCase().includes(filter.toUpperCase()) ||
                    item.definition.toUpperCase().includes(filter.toUpperCase())
                  )
                : translatedLexicon;
            if (filteredData.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'lexicon-item';
                noResults.innerHTML = `<p data-translate-key="no_results">${translations[currentLang].no_results} "${escapeHTML(filter)}".</p>`;
                lexiconList.appendChild(noResults);
            } else {
                filteredData.forEach(item => {
                    const lexItem = document.createElement('div');
                    lexItem.className = 'lexicon-item';
                    lexItem.innerHTML = `
                        <h3>${highlightMatch(item.term, filter)}</h3>
                        <p>${highlightMatch(item.definition, filter)}</p>
                    `;
                    lexiconList.appendChild(lexItem);
                });
            }
        }

        function applyTranslations(targetLang) {
            if (!translations[targetLang]) return;
            const elements = document.querySelectorAll('[data-translate-key]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate-key');
                if (translations[targetLang][key]) {
                    if (element.tagName === 'INPUT' && element.type === 'text') {
                        element.placeholder = translations[targetLang][key];
                    } else {
                        element.innerHTML = translations[targetLang][key];
                    }
                }
            });
            document.title = translations[targetLang].title || 'Finanz-Lexikon';
            document.documentElement.lang = targetLang;
            const searchInput = document.getElementById('searchInput');
            const filter = searchInput ? searchInput.value.trim() : '';
            displayLexicon(lexiconData, filter);
        }

        function debounce(func, delay) {
            let debounceTimer;
            return function() {
                const context = this;
                const args = arguments;
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => func.apply(context, args), delay);
            };
        }

        document.addEventListener('DOMContentLoaded', () => {
            const storedLang = window.parent && window.parent.document.documentElement.lang || 'de';
            applyTranslations(storedLang);
            displayLexicon(lexiconData, '');

            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', debounce(function() {
                    const filter = searchInput.value.trim();
                    displayLexicon(lexiconData, filter);
                }, 300));
            }

            window.addEventListener('message', (event) => {
                if (event.data && event.data.type === 'LANGUAGE_CHANGE' && event.data.source === 'index') {
                    const newLang = event.data.language;
                    if (translations[newLang] && newLang !== document.documentElement.lang) {
                        applyTranslations(newLang);
                    }
                }
            });
        });
    </script>
</body>
</html>